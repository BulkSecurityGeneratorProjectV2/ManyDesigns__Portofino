<?xml version="1.0" encoding="UTF-8"?>
<!--
Struttura dell'XML:

-model
 +-databases
   +-database
     +-jdbcConnection
     +-jndiConnection
     +-schemas
       +-schema
         +-tables
           +-table
             +-columns
             | +-column
             |   +-annotations
             |     +-annotation
             |       +-value
             |
             +-primaryKey
             | +-column
             |
             +-foreignKeys
             | +-foreignKey
             | | +-references
             | |   +-reference
             | +-annotations
             |   +-annotation
             |     +-value
             |
             +-annotations
               +-annotation
                 +-value
-->
<model>
    <databases>
        <database databaseName="portofino">
            <jdbcConnection driver="org.h2.Driver" password="" url="jdbc:h2:${app}/dbs/portofino" username="sa"/>
            <schemas>
                <schema schemaName="PUBLIC">
                    <tables>
                        <table javaClass="com.manydesigns.portofino.system.model.users.UserState" shortName="%{name}" tableName="USERSTATE">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="ID" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="false" propertyName="id" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="NAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="75" nullable="false" propertyName="name" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="DESCRIPTION" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="255" nullable="true" propertyName="description" scale="0">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys/>
                            <primaryKey primaryKeyName="USERSTATE_PKEY">
<column columnName="ID"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                        <table tableName="OLDPWD">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="ID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="false" propertyName="id" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="CREATEDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="createDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="PASSWORD" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="30" nullable="true" propertyName="password" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="USERID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="true" propertyName="userId" scale="0">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys>
<foreignKey manyPropertyName="oldPwds" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="user" toTable="USERS" hql="from users" name="FK_OLDPWD_1" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="USERID" toColumn="USERID"/>
    </references>
</foreignKey>
                            </foreignKeys>
                            <primaryKey primaryKeyName="OLDPWD_PKEY">
<column columnName="ID"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                        <table javaClass="com.manydesigns.portofino.system.model.messages.Message" tableName="MSG">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="ID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="false" propertyName="id" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="SUBJECT" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="255" nullable="true" propertyName="subject" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="BODY" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="4000" nullable="true" propertyName="body" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="TO_" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="true" propertyName="toId" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="FROM_" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="true" propertyName="fromId" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="CREATIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="creationDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="STATE" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="true" propertyName="stateId" scale="0">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys>
<foreignKey manyPropertyName="messageOut" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="to" toTable="USERS" hql="from users" name="FK_MSG_3" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="TO_" toColumn="USERID"/>
    </references>
</foreignKey>
<foreignKey manyPropertyName="messages" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="state" toTable="MSGSTATE" hql="from msgstate" name="FK_MSG_1" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="STATE" toColumn="ID"/>
    </references>
</foreignKey>
<foreignKey manyPropertyName="messageIn" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="from" toTable="USERS" hql="from users" name="FK_MSG_2" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="FROM_" toColumn="USERID"/>
    </references>
</foreignKey>
                            </foreignKeys>
                            <primaryKey primaryKeyName="MSG_PKEY">
<column columnName="ID"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                        <table javaClass="com.manydesigns.portofino.system.model.users.User" shortName="%{userName} (%{email})" tableName="USERS">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="USERID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="false" propertyName="userId" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="DELETIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="deletionDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="CREATIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="creationDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="MODIFIEDDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="modifiedDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="DEFAULTUSER" columnType="CHAR" javaType="java.lang.Boolean" jdbcType="1" length="1" nullable="true" propertyName="defaultUser" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="EXTAUTH" columnType="CHAR" javaType="java.lang.Boolean" jdbcType="1" length="1" nullable="true" propertyName="extAuth" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="PWD" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="true" propertyName="pwd" scale="0">
    <annotations>
        <annotation type="com.manydesigns.elements.annotations.Password"/>
    </annotations>
</column>
<column autoincrement="false" columnName="LASTPWDMODDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="pwdModDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="USERNAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="false" propertyName="userName" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="EMAILADDRESS" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="100" nullable="false" propertyName="email" scale="0">
    <annotations>
        <annotation type="com.manydesigns.elements.annotations.Email"/>
    </annotations>
</column>
<column autoincrement="false" columnName="FIRSTNAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="true" propertyName="firstName" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="MIDDLENAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="true" propertyName="middleName" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="LASTNAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="true" propertyName="lastName" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="JOBTITLE" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="true" propertyName="jobTitle" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="LASTLOGINDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="lastLoginDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="LASTFAILEDLOGINDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="lastFailedLoginDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="FAILEDLOGINATTEMPTS" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="true" propertyName="failedLoginAttempts" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="AGREEDTOTERMS" columnType="CHAR" javaType="java.lang.Boolean" jdbcType="1" length="1" nullable="true" propertyName="agreedToTerms" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="STATE" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="false" propertyName="state" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="BOUNCED" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="true" propertyName="bounced" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="TOKEN" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="100" nullable="true" propertyName="token" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="REMQUESTION" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="255" nullable="true" propertyName="remQuestion" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="REMANS" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="255" nullable="true" propertyName="remans" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="GRACELOGINCOUNT" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="true" propertyName="graceLoginCount" scale="0">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys>
<foreignKey manyPropertyName="users" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="state" toTable="USERSTATE" hql="from userstate" name="FK_USER_1" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="STATE" toColumn="ID"/>
    </references>
</foreignKey>
                            </foreignKeys>
                            <primaryKey primaryKeyName="USER_PKEY">
<column columnName="USERID"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                        <table javaClass="com.manydesigns.portofino.system.model.messages.State" tableName="MSGSTATE">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="ID" columnType="DECIMAL" javaType="java.lang.Integer" jdbcType="3" length="10" nullable="false" propertyName="id" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="NAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="false" propertyName="name" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="DESCRIPTION" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="255" nullable="true" propertyName="description" scale="0">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys/>
                            <primaryKey primaryKeyName="MSGSTATE_PKEY">
<column columnName="ID"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                        <table javaClass="com.manydesigns.portofino.system.model.users.Group" shortName="%{name} " tableName="GROUPS">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="GROUPID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="false" propertyName="groupId" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="CREATORID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="true" propertyName="creatorId" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="NAME" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="50" nullable="true" propertyName="name" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="DESCRIPTION" columnType="VARCHAR" javaType="java.lang.String" jdbcType="12" length="255" nullable="true" propertyName="description" scale="0">
    <annotations>
        <annotation type="com.manydesigns.elements.annotations.Status">
            <value>admin</value>
            <value></value>
            <value></value>
        </annotation>
    </annotations>
</column>
<column autoincrement="false" columnName="DELETIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="deletionDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="CREATIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="creationDate" scale="10">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys>
<foreignKey manyPropertyName="groupsCreated" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="creatorId" toTable="USERS" hql="from users" name="FK_GROUP_1" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="CREATORID" toColumn="USERID"/>
    </references>
</foreignKey>
                            </foreignKeys>
                            <primaryKey primaryKeyName="GROUP_PKEY">
<column columnName="GROUPID"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                        <table javaClass="com.manydesigns.portofino.system.model.users.UsersGroups" manyToMany="true" tableName="USERS_GROUPS">
                            <annotations/>
                            <columns>
<column autoincrement="false" columnName="GROUPID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="false" propertyName="groupid" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="USERID" columnType="VARCHAR" javaType="java.lang.String" jdbcType="1" length="25" nullable="false" propertyName="userid" scale="0">
    <annotations/>
</column>
<column autoincrement="false" columnName="DELETIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="true" propertyName="deletionDate" scale="10">
    <annotations/>
</column>
<column autoincrement="false" columnName="CREATIONDATE" columnType="TIMESTAMP" jdbcType="93" length="23" nullable="false" propertyName="creationDate" scale="10">
    <annotations/>
</column>
                            </columns>
                            <foreignKeys>
<foreignKey manyPropertyName="users" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="group" toTable="GROUPS" hql="from groups" name="FK_USERSGROUPS_2" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="GROUPID" toColumn="GROUPID"/>
    </references>
</foreignKey>
<foreignKey manyPropertyName="groups" onDelete="importedKeyRestrict" onUpdate="importedKeyRestrict" onePropertyName="user" toTable="USERS" hql="from users" name="FK_USERSGROUPS_1" toDatabase="portofino" toSchema="PUBLIC">
    <references>
        <reference fromColumn="USERID" toColumn="USERID"/>
    </references>
</foreignKey>
                            </foreignKeys>
                            <primaryKey primaryKeyName="USERS_GROUPS_PKEY">
<column columnName="GROUPID"/>
<column columnName="USERID"/>
<column columnName="CREATIONDATE"/>
                            </primaryKey>
                            <selectionProviders/>
                        </table>
                    </tables>
                </schema>
            </schemas>
        </database>
    </databases>
</model>
