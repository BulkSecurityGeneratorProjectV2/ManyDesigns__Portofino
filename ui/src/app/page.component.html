<mat-sidenav-container [autosize]="true">
  <mat-sidenav [opened]="true" mode="side" [disableClose]="true">
    <h3 i18n>Navigation</h3>
    <ng-container *ngIf="page">
      <ul *ngIf="page.parent">
        <li>
          <a [routerLink]="page.parent.url" routerLinkActive="active">{{page.parent.configuration.title}}</a>
          <ul>
            <li *ngFor="let child of page.parent.children">
              <a *ngIf="child.path != page.segment"
                 [routerLink]="page.parent.url + '/' + child.path" routerLinkActive="active">{{child.title}}</a>
              <ng-container *ngIf="child.path == page.segment">
                <strong>{{page.configuration.title}}</strong>
                <ul>
                  <li *ngFor="let child of page.children">
                    <a [routerLink]="child.path" routerLinkActive="active">{{child.title}}</a>
                  </li>
                </ul>
              </ng-container>
            </li>
          </ul>
        </li>
      </ul>
      <div *ngIf="!page.parent">
        <strong>{{page.configuration.title}}</strong>
        <ul>
          <li *ngFor="let child of page.children">
            <a [routerLink]="child.path" routerLinkActive="active">{{child.title}}</a>
          </li>
        </ul>
      </div>
    </ng-container>
  </mat-sidenav>
  <mat-sidenav-content>
    <ng-template portofino-content *ngIf="!error"></ng-template>
    <div *ngIf="error" i18n>
      Page not found!
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
