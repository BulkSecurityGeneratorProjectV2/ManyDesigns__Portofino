<div *ngIf="isRichText()" [formGroup]="form">
  <label>{{property.label}}</label>
  <quill-editor [formControlName]="property.name" [required]="required" *ngIf="enabled"></quill-editor>
  <span [innerHTML]="control.value" *ngIf="!enabled" class="rich-text"></span>
</div>
<mat-form-field *ngIf="!isRichText() && !isPasswordConfirmationRequired()" [formGroup]="form" [ngClass]="{ multiline: isMultiline() }">
  <mat-label>{{property.label}}</mat-label>
  <input matInput *ngIf="!isMultiline()"
         [formControlName]="property.name" [required]="required" [type]="isPassword() ? 'password' : 'text'" />
  <textarea matInput [formControlName]="property.name" [required]="required" *ngIf="isMultiline()"></textarea>
  <mat-error *ngIf="control.hasError('required')" class="alert alert-danger">
    {{ '_ is required.' | translate:{ label: property.label } }}
  </mat-error>
  <mat-error *ngIf="control.hasError('maxLength')" class="alert alert-danger">
    {{ '_: max _.' | translate:{ label: property.label, max: control.getError('maxLength').message } }}
  </mat-error>
  <mat-error *ngIf="control.hasError('server-side')" class="alert alert-danger">
    <ng-container *ngFor="let error of control.getError('server-side')">
      {{error}}<br />
    </ng-container>
  </mat-error>
  <mat-checkbox *ngIf="selectable && enabled" [formControl]="selector" matPrefix></mat-checkbox>
</mat-form-field>
<ng-container *ngIf="isPasswordConfirmationRequired()" [formGroup]="form">
  <mat-form-field [formGroupName]="property.name">
    <mat-label>{{property.label}}</mat-label>
    <input matInput formControlName="password" [required]="required" type="password" />
    <mat-error *ngIf="control.hasError('required')" class="alert alert-danger">
      {{ '_ is required.' | translate:{ label: property.label } }}
    </mat-error>
    <mat-error *ngIf="control.hasError('maxLength')" class="alert alert-danger">
      {{ '_: max _.' | translate:{ label: property.label, max: control.getError('maxLength').message } }}
    </mat-error>
    <mat-error *ngIf="control.hasError('server-side')" class="alert alert-danger">
      <ng-container *ngFor="let error of control.getError('server-side')">
        {{error}}<br />
      </ng-container>
    </mat-error>
  </mat-form-field>
  <mat-form-field [formGroupName]="property.name">
    <mat-label>{{'Confirm' | translate}} {{property.label}}</mat-label> <!--TODO label as parameter-->
    <input matInput formControlName="confirmPassword" [required]="false" type="password"
           [errorStateMatcher]="crossFieldErrorMatcher" />
    <mat-error *ngIf="control.hasError('passwordsDontMatch')" class="cross-validation-error-message alert alert-danger">
      {{ "Passwords don't match." | translate }}
    </mat-error>
  </mat-form-field>
</ng-container>
