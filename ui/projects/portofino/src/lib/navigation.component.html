<mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="space-between center">
  <h3 class="mat-title">{{ 'Navigation' | translate }}</h3>
</mat-toolbar>

<!-- TODO make it responsive https://stackblitz.com/angular/onrlxdodyer?file=app%2Fsidenav-responsive-example.html -->

<ng-container *ngIf="!!page">
  <ul *ngIf="page.parent">
    <li>
      <a [routerLink]="page.parent.url" routerLinkActive="active">{{page.parent.configuration.title}}</a>
      <ul>
        <ng-container *ngFor="let child of page.parent.children">
          <li *ngIf="child.path != page.segment && child.accessible">
            <a [routerLink]="page.parent.url + '/' + child.path" routerLinkActive="active">{{child.title}}</a>
          </li>
          <li *ngIf="child.path == page.segment">
            <strong>{{page.configuration.title}}</strong>
            <ul>
              <ng-container *ngFor="let child of page.children">
                <li *ngIf="child.accessible">
                  <a [routerLink]="child.path" routerLinkActive="active">{{child.title}}</a>
                </li>
              </ng-container>
            </ul>
          </li>
        </ng-container>
      </ul>
    </li>
  </ul>
  <div *ngIf="!page.parent">
    <strong>{{page.configuration.title}}</strong>
    <ul>
      <ng-container *ngFor="let child of page.children">
        <li *ngIf="child.accessible">
          <a [routerLink]="child.path" routerLinkActive="active">{{child.title}}</a>
        </li>
      </ng-container>
    </ul>
  </div>
</ng-container>


<!--<div class="mt-3 mat-elevation-z0" >
  <mat-accordion multi="true" class="no-shadow">
    <mat-expansion-panel class="no-shadow mat-elevation-z0">
      <mat-expansion-panel-header fxLayout="row" >
        <mat-panel-title >
           Page 1
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-nav-list class="ml-0" dense>
        <mat-list-item>
          <a [routerLink]="'users'" routerLinkActive="active">Users</a>
        </mat-list-item>
        <mat-list-item>
          <a href="#">Vodafone Airtime</a>
        </mat-list-item>
        <mat-list-item>
          <a href="#">MTN Airtime</a>
        </mat-list-item>
        <mat-list-item>
          <a href="#">GLO Airtime</a>
        </mat-list-item>
      </mat-nav-list>
    </mat-expansion-panel>
    <mat-expansion-panel class="no-shadow my-0 mat-elevation-z0">
      <mat-expansion-panel-header fxLayout="row" >
        <mat-panel-title>
          Page 2
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-nav-list class="ml-0" dense>
        <mat-list-item>
          <a href="#">AirtelTigo Airtime</a>
        </mat-list-item>
        <mat-list-item>
          <a href="#">Vodafone Airtime</a>
        </mat-list-item>
        <mat-list-item>
          <a href="#">MTN Airtime</a>
        </mat-list-item>
        <mat-list-item>
          <a href="#">GLO Airtime</a>
        </mat-list-item>
      </mat-nav-list>
    </mat-expansion-panel>
  </mat-accordion>
</div>-->
