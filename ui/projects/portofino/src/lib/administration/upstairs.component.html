<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      {{'Settings'|translate}}
    </ng-template>
    <form (submit)="saveSettings()">
      <portofino-form #settingsFormComponent [form]="settingsForm"></portofino-form>
      <div fxLayout="row">
        <button type="submit" style="display:none">{{ 'Save' | translate }}</button>
        <portofino-buttons [component]="this" list="settings"></portofino-buttons>
      </div>
    </form>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      {{'Permissions'|translate}}
    </ng-template>
    <table *ngIf="settingsPanel.permissions">
      <tr>
        <th>{{'Group'|translate}}</th>
        <th>{{'Access level'|translate}}</th>
      </tr>
      <tr *ngFor="let group of settingsPanel.groups">
        <td>{{group.name}}</td>
        <td>
          <mat-select [(ngModel)]="group.level">
            <mat-option *ngFor="let level of settingsPanel.accessLevels" [value]="level">
              {{level}}
            </mat-option>
          </mat-select>
        </td>
      </tr>
    </table>
    <portofino-buttons [component]="this" list="permissions"></portofino-buttons>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      {{'Database connections'|translate}}
    </ng-template>
    <table *ngIf="connectionProviders">
      <tr>
        <th>{{'Name'|translate}}</th>
        <th>{{'Description'|translate}}</th>
        <th>{{'Status'|translate}}</th>
      </tr>
      <tr *ngFor="let conn of connectionProviders">
        <td>{{conn.name}}</td>
        <td>{{conn.description}}</td>
        <td>{{conn.status | translate}}</td>
      </tr>
    </table>
    <portofino-buttons [component]="this" list="connections"></portofino-buttons>
    <h3>{{'Available database platforms' | translate}}</h3>
  </mat-tab>
</mat-tab-group>
